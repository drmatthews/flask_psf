<html>
    <head>
		{{ JSGlue.include() }}
		<style>
		    .pure-g > div {
		        -webkit-box-sizing: border-box;
		        -moz-box-sizing: border-box;
		        box-sizing: border-box;
		    }
		    .l-box {
		        padding: 1em;
		    }
		</style>
	    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	    <script src={{ url_for('static', filename='js/main.js') }}></script>	
		<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <title>PSF Calculation</title>
    </head>
    <body>
		<div id=layout>
			<div id=main>
				<div class=content>
			        <div class="pure-g">
			            <div class="pure-u-1-3 l-box">
				            <h3>PSF calculation</h3>
			                <form role="form" method="post" action="{{ url_for('get_psf') }}" class="pure-form pure-form-aligned" onsubmit="return false;">
								<fieldset>
									{{ form.hidden_tag() }}
									<p>
							        <div class="pure-control-group">
										{{ form.model.label }}
							            {{ form.model }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.microscope.label }}
							            {{ form.microscope }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.ex_wavelen.label }}
							            {{ form.ex_wavelen }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.em_wavelen.label }}
							            {{ form.em_wavelen }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.num_aperture.label }}
							            {{ form.num_aperture }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.refr_index.label }}
							            {{ form.refr_index }}</br>
							        </div>
									</p>
				                  	<button type="submit" class="pure-button pure-button-primary">Calculate</button>
						  		</fieldset>
			                </form>
						</div>
						<div class="pure-u-1-3 l-box" style="display: none;" id="psf">
								<h3><span id="scope"></span></h3>
								<h3>PSF standard deviation, z: <span id="sigmaz"></span> um</h3>
								<h3>PSF standard deviation, r: <span id="sigmar"></span> um</h3>
								<img class="pure-img" src="{{ url_for('update_psf',filename='psf.png')}}" style="width:256px;height:256px" id="psfimg">
						</div>
						<div class ="pure-u-1-3 l-box" style="display: none;" id="nyquist">	
							<h3>Pixel size in x,y for nyquist: <span id="nyquistxy"></span> nm</h3>
							<h3>Pixel size in z for nyquist: <span id="nyquistz"></span> nm</h3>	
						</div>
			        </div>
				</div>
			</div>
		</div>
    </body>
</html>

