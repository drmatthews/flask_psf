<html>
    <head>
		<style>
		    .pure-g > div {
		        -webkit-box-sizing: border-box;
		        -moz-box-sizing: border-box;
		        box-sizing: border-box;
		    }
		    .l-box {
		        padding: 1em;
		    }
		</style>		
		<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <title>PSF Calculation</title>
    </head>
    <body>
		<div id=layout>
			<div id=main>
				<div class=content>
			        <div class="pure-g">
			            <div class="pure-u-1-3 l-box">
				            <h1>PSF calculation</h1>
			                <form method="post" action="{{ url_for('calculate_psf') }}" class="pure-form pure-form-aligned">
								<fieldset>
									{{ form.hidden_tag() }}
									<p>
							        <div class="pure-control-group">
										{{ form.model.label }}
							            {{ form.model }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.microscope.label }}
							            {{ form.microscope }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.ex_wavelen.label }}
							            {{ form.ex_wavelen }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.em_wavelen.label }}
							            {{ form.em_wavelen }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.num_aperture.label }}
							            {{ form.num_aperture }}</br>
							        </div>
							        <div class="pure-control-group">
										{{ form.refr_index.label }}
							            {{ form.refr_index }}</br>
							        </div>
									</p>
				                  	<button type="submit" class="pure-button pure-button-primary">Calculate</button>
						  		</fieldset>
			                </form>
						</div>
						{% if nyquist %}
							<div class="pure-u-1-3 l-box">
									<h2>{{ microscope }}</h2>
									<h3>PSF standard deviation, z: {{ sigma[0] }} um</h3>
									<h3>PSF standard deviation, r: {{ sigma[1] }} um</h3>
									<img class="pure-img" src="static/images/psf.png" style="width:256px;height:256px">
							</div>
							<div class ="pure-u-1-3 l-box">
								<h3>Pixel size in x,y for nyquist: {{ nyquist[0] }} nm</h3>
								<h3>Pixel size in z for nyquist: {{ nyquist[1] }} nm</h3>	
							</div>
						{% endif %}
			        </div>
				</div>
			</div>
		</div>
    </body>
</html>

